# 使用 Edge Impulse

## 概述

Edge Impulse 是一个用于在边缘设备上直接构建、训练和部署机器学习模型的开发平台。借助该平台，开发者可以轻松创建可离线运行、实时响应且低功耗的应用程序。

使用 Edge Impulse，您可以：
- 收集并标注传感器数据（例如：音频、视觉、运动）
- 在多种硬件设备上训练并部署机器学习模型
- 轻松监控模型性能

本节将演示如何在 RUBIK Pi 上安装 Edge Impulse，并使用它下载一个 Impulse（即您自定义的机器学习模型）。

## 前提条件

1. 注册一个 [Edge Impulse](https://studio.edgeimpulse.com/login) 账户。
2. 设置 RUBIK Pi，启用 Wi-Fi 和 SSH。相关设置指南，请参见 [此处](1.quick-start/2.set-up-your-device.md)。
3. (可选) 为 RUBIK Pi 连接摄像头。

## 安装 Edge Impulse CLI

在启动 RUBIK Pi 并确保可通过 SSH 访问后：

1. 通过 SSH 连接到 RUBIK Pi。  
在终端中运行以下命令。 将 `ip_address` 替换为您 RUBIK Pi 的实际 IP 地址：
```bash
$ ssh ubuntu@<ip_address> 
```

2. 下载并运行设置脚本。  
打开 RUBIK Pi 终端，运行以下命令来下载 Edge Impulse Linux CLI。 

```bash
$ wget https://cdn.edgeimpulse.com/firmware/linux/setup-edge-impulse-qc-linux.sh
$ sh setup-edge-impulse-qc-linux.sh
$ source ~/.profile
```

3. 连接到 Edge Impulse。  
运行以下命令，将 RUBIK Pi 与 Edge Impulse 账户连接。
```bash
$ edge-impulse-linux
```
运行命令后会弹出提示，需要输入用于设置 Edge Impulse 帐户的用户名、电子邮件和密码。请准备好这些信息。如果您想重新设置或切换设备，请使用如下命令：
```bash
$ edge-impulse-linux --clean
```

4. 创建 Edge Impulse 项目。  
参考 Edge Impulse 教程，创建一个简单的对象检测项目。若需要更详细的指导，请见[此处](https://docs.edgeimpulse.com/docs/tutorials/end-to-end-tutorials/computer-vision/object-detection/detect-objects-using-fomo) 的步骤。

5. 验证设备已连接。  
若要再次验证设备已连接至 Edge Impulse，进入 Edge Impulse 项目并点击 **Devices**。RUBIK Pi 3 应出现在你的设备列表下。请注意，只有在项目中创建了 Impulse 后，设备才会出现在你的设备列表中。

6. 运行 Impulse。  
要在RUBIK Pi 上运行 Impulse，请执行以下命令: 
```bash
$ edge-impulse-linux-runner
```
此命令会将您构建的模型下载到本地并开始在本地进行推理。所有操作都在 RUBIK Pi 上完成。如果您已按照步骤创建了一个目标检测项目，并且为 RUBIK Pi 设备连接了摄像头，那么运行程序还会显示 RUBIK Pi 摄像头的画面。

## 相关链接

- [Edge Impulse 文档](https://docs.edgeimpulse.com/docs/edge-ai-hardware/cpu-+-ai-accelerators/thundercomm-rubikpi3#setting-up-your-thundercomm-rubik-pi-3)
- [配置教程 - 视频](https://www.youtube.com/watch?v=E0kwTcZiTdk&t=541s)
