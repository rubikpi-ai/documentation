---
# Display h2 to h5 headings
toc_min_heading_level: 2
toc_max_heading_level: 4
---

# 故障排除

## 常见问题

### 包装内容
  1. 魔方派 3

  2. 魔方派贴纸

  3. 快速开始卡片


### 关于电源适配器规格

  魔方派不附赠电源适配器，魔方派 3 集成了 Power Delivery 协议的协商 IC， 最高支持 PD 3.0。为了获得最好的体验，推荐使用支持 **12V 3A PD 3.0** 协议的 Type-C 接口电源适配器。

  除此之外，您也可以使用接近 12V 3A 功率的电源适配器，但要注意，过低的功率可能会有系统无法正常启动，或启动后部分外设无法正常工作的情况。

### 关于风扇

  魔方派 3 不附赠风扇，在一些计算压力大的场景，推荐您购买和安装风扇以达到更好的运行效果。详见[外设兼容列表](https://www.thundercomm.com/rubik-pi-3/cn/docs/peripheral-compatibility-list)。


### 如何恢复设备？
  1. 下载软件。
  2. 强制设备进入紧急下载 (EDL) 模式。
  3. 刷写下载的软件。

### 如何刷写配置参数表 (CDT)？

  CDT 提供平台或设备相关数据，例如平台 ID、子类型和版本。各种软件（驱动程序/固件）模块可以使用此信息来动态检测和初始化平台。默认已集成到软件包中，如有需要可按如下方式进行操作。

  :::note

  确保设备处于 EDL 模式。有关更多信息，请参阅 [进入 EDL 模式](./1.quick-start/1.update-software.md#enterEDL)。
  :::

  1. 点击 [此处](https://thundercomm.s3.dualstack.ap-northeast-1.amazonaws.com/uploads/web/rubik-pi-3/tools/RUBIKPI_CDT.zip) 下载所需的 CDT。

  2. 要刷写 CDT，请运行以下命令：

  ```xml
  ./qdl prog_firehose_ddr.elf rawprogram3.xml patch3.xml
  ```

### 如何配置通用闪存存储 (UFS)？

  * 请参阅 [使用 QDL 工具进行刷写](1.quick-start/1.update-software.md#flashQDL)。

### 如何将设备强制进入 EDL 模式？

  * 请参阅 [进入 EDL 模式](./1.quick-start/1.update-software.md#enterEDL)。

### 如何在主机上安装并连接 android debug bridge (ADB)？

     `adb` 命令可简化各种设备操作，例如调试、抓取内核日志以及将应用和文件推送到目标设备。

      1. Windows 主机请点击 [此处](https://thundercomm.s3.ap-northeast-1.amazonaws.com/uploads/web/rubik-pi-3/tools/qud/qud.win.1.1_installer_10061.1.zip) 下载 QUD 驱动。

      2. 在 Linux 主机上运行以下命令：

      ```powershell
      sudo apt install git android-tools-adb android-tools-fastboot wget
      ```

      3. 要验证 Linux 主机上 adb 的版本，请运行以下命令：

      ```css
      adb --version
      ```

      4. 使用 USB Type-C 线将 RubikPi 设备与主机连接。确保设备显示为 ADB 设备。

      ```plain&#x20;text
      adb devices
      ```

      5. 要进入 shell，请运行以下命令：

      ```plain&#x20;text
      adb shell
      ```

### 已经连接网络时，如何重新连接到不同的网络？

  1. 要断开当前网络，请运行以下命令：

  ```plain&#x20;text
  sudo nmcli c down <WiFi-SSID>
  ```

  示例

  ```shell

  ```shell
  sudo nmcli c down RUBIKPiWiFi
  ```
  ```shell
  Connection 'RUBIKPiWiFi' successfully deactivated (D-Bus active path: /org/freedesktop/NetworkManager/ActiveConnection/2)
  ```
  2. 要验证断开连接状态，请运行以下命令：

  ```css
  nmcli -p device
  ```

  ![](images/image-33.jpg)

  3. 要连接到不同的 Wi-Fi 网络，请运行以下命令：

  ```shell
  nmcli dev wifi connect <WiFi-SSID> password <WiFi-password>
  ```

  示例

  ```shell
  nmcli dev wifi connect RUBIKPiWiFi password 1234567890
  ```
  ```shell
  Device ‘wlan0’ successfully activated with ‘d7b990bd-3b77-4b13-b239-b706553abaf8’.
  ```

### 如何使用 Minicom 来设置调试 UART？

  * 请参阅 [设置调试 UART](./1.quick-start/2.set-up-your-device.md#setUART).

### 如何切换到root用户

  请运行下面的命令：

  ```shell
  sudo -i
  ```

### 如何从桌面版本切换为服务版本

  1. 参见 [连接到网络](./1.quick-start/2.set-up-your-device.md#conNET) , 确保网络连接状态正常。

  2. 请执行以下命令从桌面版本切换为服务版本

  ```shell
  sudo apt update
  sudo apt upgrade -y
  sudo apt-get install qcom-adreno1
  sudo apt-get remove ubuntu-desktop
  sudo apt remove gdm3
  sudo reboot
  ```

### 如何从服务版本切换为桌面版本

  1. 参见 [连接到网络](./1.quick-start/2.set-up-your-device.md#conNET) , 确保网络连接状态正常。

  2. 请执行以下命令从服务版本切换为桌面版本

  ```shell
  sudo apt update
  sudo apt upgrade -y
  sudo apt install qcom-adreno1- libgbm-msm1- libegl-mesa0 libegl1 libgles2 libglvnd0 libvulkan1
  sudo apt install ubuntu-desktop
  sudo reboot
  ```

### 如何更新 USB 和以太网控制器的固件？

  USB 控制器的固件更新可能会解决魔方派 3 设备上的 USB 或以太网连接问题。

  步骤:

  1. 点击 [此处](https://thundercomm.s3.dualstack.ap-northeast-1.amazonaws.com/uploads/web/rubik-pi-3/firmware/usb_fw.img) 下载固件包。

  2. 要在 Fastboot 模式下启动设备，请运行以下命令：
  ```shell
  adb root
  adb shell
  reboot bootloader
  ```
  3. 当设备处于 Fastboot 模式时，可运行以下命令：
  ```shell
  fastboot devices
  ```
  示例输出
  ```
  7dc85f5e         fastboot
  ```
  4. 要将 `usb_fw.img` 镜像刷写到设备，请运行以下命令：
  ```shell
  fastboot erase usb_fw
  fastboot flash usb_fw usb_fw.img
  fastboot reboot
  ```
  5. 要确定固件是否更新成功，请运行以下命令：
  ```shell
  adb shell dmesg
  ```
  示例输出
  ```
  [    6.589462] usbcore: registered new device driver onboard-usb-hub
  [    6.653277] usb 2-1: new SuperSpeed USB device number 2 using xhci_hcd
  [    7.013061] usb 2-1.1: new SuperSpeed USB device number 3 using xhci_hcd
  [    7.120657] ax88179_178a 2-1.1:1.0 eth0: register ‘ax88179_178a’ at usb-0001:04:00.0-1.1, ASIX AX88179 USB 3.0 Gigabit Ethernet, 3e:9e:5e:ff:d3:fb
  [    7.120767] usbcore: registered new interface driver ax88179_178a
  ```

### 如何对刷写相关的问题进行故障排除？

    :::note
    确保主机未运行 ModemManager 工具，因为它会干扰 QDL 刷写。
    :::

  如果您使用的是带有 systemd 的 Linux 发行版本，请使用以下命令停止 ModemManager 工具：

  ```css
  sudo systemctl stop ModemManager
  ```

  * 如果您需要 ModemManager，请在刷写完成后重新启动它。

  如果刷写失败，请执行以下操作并重试刷写过程：

  1. 关闭设备。

  2. 断开设备与主机的连接。

  3. 重新启动主机。

### 在哪里获取魔方派 3 的 3D 模型

  访问 [硬件资料](https://www.thundercomm.com/rubik-pi-3/cn/docs/hardware-resources) 页面下载 3D 模型。

### 在哪里获取魔方派 3 的外壳设计资料

  访问 [硬件资料](https://www.thundercomm.com/rubik-pi-3/cn/docs/hardware-resources) 页面下载外壳设计资料； 您可以使用外壳设计资料打印出魔方派 3 的外壳。

## 进一步支持

在 [魔方派论坛](https://community.rubikpi.ai/) 提出您的问题。

