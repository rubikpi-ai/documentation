---
custom_edit_url: https://github.com/rubikpi-ai/documentation/blob/main/docs-cn/docs/rubik-pi-3-user-manual/1.0.0-u/11.Troubleshooting/11.1.flash-over-android.md
---
import Tabs from '@theme/Tabs';
import TabItem from '@theme/TabItem';

# åˆ·å†™ Canonical Ubuntu 24.04 è¦†ç›– Android/QLI ç³»ç»Ÿ

å¦‚æœæ‚¨çš„è®¾å¤‡å½“å‰è¿è¡Œçš„æ˜¯ Android æˆ– Qualcomm Linux (QLI)ï¼Œå¯å‚è€ƒæœ¬èŠ‚å†…å®¹å°†ç°æœ‰æ“ä½œç³»ç»Ÿæ›¿æ¢ä¸ºç»è¿‡è®¤è¯çš„ Canonical Ubuntu 24.04 Server é•œåƒã€‚æ­¤æ“ä½œéœ€åœ¨Ubuntuã€WindowsÂ® æˆ– macOSÂ® ä¸»æœºä¸Šå®Œæˆã€‚

   **æ¨è**è½¬å‘ Ubuntu è¿›è¡Œ **AI å’Œå¤šåª’ä½“å¼€å‘çš„å¼€å‘è€…**å‚è€ƒæœ¬ç« æ“ä½œã€‚
    
    :::warning
    åˆ·å†™é¢„æ„å»ºçš„ Ubuntu é•œåƒä¼šæ¸…é™¤è®¾å¤‡ä¸Šçš„æ‰€æœ‰æ•°æ®ã€‚è¯·åœ¨ç»§ç»­æ“ä½œä¹‹å‰å¤‡ä»½é‡è¦æ–‡ä»¶ã€‚
    ::: 
    
    :::info 
    	- å¦‚æœ QLI ç‰ˆæœ¬æ˜¯ 1.3 æˆ–æ›´é«˜ç‰ˆæœ¬ï¼Œè¯·å¿½ç•¥æ›´æ–° UFS é…ç½®æ­¥éª¤ã€‚  
    	- **å¼€å§‹å‰** - å®Œæˆ [**ğŸ”—è®¾ç½®**](../2.set-up-your-device.md#è®©æˆ‘ä»¬å¼€å§‹å§) æ­¥éª¤ã€‚ 
    :::

###  ç°åœ¨å¼€å§‹å§ï¼

![](../images/Workflow3.png)

### 1ï¸âƒ£ è®¾ç½® QDL å·¥å…·

**Qualcomm è®¾å¤‡åŠ è½½ç¨‹åº (QDL)** æ˜¯ä¸€ä¸ªè·¨å¹³å°å·¥å…·ã€‚å¯ä»¥ä½¿ç”¨è¯¥å·¥å…·åœ¨**Windows**ã€**Linux**å’Œ**macOS** ç³»ç»Ÿä¸Šä¼ é—ªå­˜åŠ è½½ç¨‹åºï¼Œå°†è½¯ä»¶é•œåƒåˆ·å…¥ QualcommÂ® USB è®¾å¤‡ã€‚  
**a**. ä»æä¾›çš„é“¾æ¥ä¸‹è½½é€‚åˆä¸»æœºçš„ï¼ˆ**Windows**ã€**Linux**æˆ–**macOS**ï¼‰QDL å·¥å…·ç‰ˆæœ¬ã€‚  [**QDL tool** (åŒ…å«å¯æ‰§è¡Œæ–‡ä»¶)](https://softwarecenter.qualcomm.com/catalog/item/Qualcomm_Device_Loader)  
**b**. æŸ¥çœ‹å®˜æ–¹è®¾ç½®æŒ‡å—ï¼Œäº†è§£å®Œæ•´çš„åˆ·æœºè¿‡ç¨‹ã€‚ 

<a id="flashQDL"></a> 
<Tabs>
<TabItem value="uhost" label="Ubuntu ä¸»æœº">
æ‰§è¡Œä»¥ä¸‹å‘½ä»¤å®‰è£… libusb å’Œ libxml2ã€‚ï¼ˆå¦‚æœå·²ç»å®‰è£…ï¼Œè¯·è·³è¿‡æ­¤æ­¥éª¤ã€‚ï¼‰

```shell
sudo apt-get install libxml2-dev libudev-dev libusb-1.0-0-dev
```

</TabItem>
<TabItem value="whost" label="Windows ä¸»æœº">
å®‰è£… winUSB é©±åŠ¨ç¨‹åºï¼š  
è®¾å¤‡å‡†å¤‡åˆ·æœºå‰ï¼ŒæŒ‰ç…§ä»¥ä¸‹æ­¥éª¤å®‰è£…**winUSB é©±åŠ¨ç¨‹åº**ï¼š

* å¸è½½ç°æœ‰é©±åŠ¨ç¨‹åº  
ç¡®ä¿**æœªå®‰è£… Qualcomm USB é©±åŠ¨ç¨‹åº(QUD)**æˆ–ä»»ä½•å…¶ä»–å†²çªçš„é©±åŠ¨ç¨‹åºã€‚æ‰“å¼€**è®¾å¤‡ç®¡ç†å™¨**ï¼Œæ‰¾åˆ°æ‚¨çš„è®¾å¤‡ï¼Œç„¶åå¸è½½æ‰€æœ‰ç°æœ‰çš„é©±åŠ¨ç¨‹åºã€‚  
åœ¨å¸è½½å¯¹è¯æ¡†ä¸­ï¼Œ**é€‰ä¸­**ä¸‹å›¾æ‰€ç¤ºçš„æ¡†ï¼š
  
         ![](../images/image-24.jpg) 
      
         * ç¡®ä¿é€‰ä¸­ **åˆ é™¤æ­¤è®¾å¤‡çš„é©±åŠ¨ç¨‹åºè½¯ä»¶**ã€‚
      
         ![](../images/image-25.jpg)

* åœ¨ QDL æ–‡ä»¶å¤¹ä¸­ - è¿è¡Œ**install\_driver.batã€‚**

</TabItem>
<TabItem value="mhost" label="macOS ä¸»æœº">
* ä½¿ç”¨ä»¥ä¸‹æ–¹æ³•å®‰è£… Homebrewã€‚ï¼ˆå¦‚æœå·²ç»å®‰è£…ï¼Œè¯·è·³è¿‡æ­¤æ­¥éª¤ã€‚ï¼‰

```shell
/bin/bash -c "$(curl -fsSL https://raw.githubusercontent.com/Homebrew/install/HEAD/install.sh)"
```

* è¿è¡Œä»¥ä¸‹å‘½ä»¤å®‰è£…libusbå’Œ libxml2ã€‚

```shell
brew install libusb
brew install libxml2
```

</TabItem>
</Tabs>
### 2ï¸âƒ£ UFS é…ç½®

é…ç½® UFS å¯ç¡®ä¿æ­£ç¡®åˆå§‹åŒ–å’Œåˆ†åŒºï¼Œä»¥æ”¯æŒæ–°çš„æ“ä½œç³»ç»Ÿé•œåƒã€‚

**a**. ç‚¹å‡»é“¾æ¥ä¸‹è½½ provision.zip æ–‡ä»¶[ **UFS**](https://artifacts.codelinaro.org/ui/native/codelinaro-le/Qualcomm_Linux/QCS6490/)ã€‚  
**b**. è§£å‹å¹¶å°† [**æ­¥éª¤1**](#1ï¸âƒ£-è®¾ç½®-qdl-å·¥å…·) ä¸­çš„ QDL å¯æ‰§è¡Œæ–‡ä»¶ å¤åˆ¶åˆ° UFS é…ç½®æ–‡ä»¶å¤¹ã€‚  
:::note 
- å¯¹äº Windows ä¸»æœºï¼Œè¯·ç¡®ä¿å°†DLLæ–‡ä»¶ä¸å¯æ‰§è¡Œæ–‡ä»¶ä¸€èµ·å¤åˆ¶ã€‚
::: 
**c**. è¿›å…¥[ **EDL æ¨¡å¼ã€‚**](../2.set-up-your-device.md#è¿›å…¥edlæ¨¡å¼)  
**d**. è¿›å…¥é…ç½®æ–‡ä»¶å¤¹æ‰§è¡ŒUFSé…ç½®æ“ä½œã€‚  
<Tabs> 
<TabItem value="uhost" label="Ubuntu ä¸»æœº"> 
è¿è¡Œä»¥ä¸‹å‘½ä»¤é‡æ–°é…ç½® UFSã€‚

```shell
./qdl prog_firehose_ddr.elf provision_1_3.xml
```

![](../images/image-23.jpg) 
</TabItem> 
<TabItem value="whost" label="Windows ä¸»æœº"> 
è¿è¡Œä»¥ä¸‹å‘½ä»¤é‡æ–°é…ç½®UFSã€‚

```shell
<pathToQDL>\QDL.exe prog_firehose_ddr.elf provision_1_3.xml
```

![](../images/image-30.jpg) 
</TabItem> 
<TabItem value="mhost" label="macOS ä¸»æœº"> 
è¿è¡Œä»¥ä¸‹å‘½ä»¤é‡æ–°é…ç½®UFSã€‚

```shell
qdl prog_firehose_ddr.elf provision_1_3.xml
```

![](../images/image-32.jpg) 
</TabItem> 
</Tabs>

### 3ï¸âƒ£ åˆ·å†™ç‘è¨å›ºä»¶ã€‚

ç‘è¨å›ºä»¶æ›´æ–°å¯ç¡®ä¿å¼€å‘æ¿ä¸­åµŒå…¥çš„ç‘è¨ MCU ç»„ä»¶çš„æ­£ç¡®åˆå§‹åŒ–å’Œå…¼å®¹æ€§ã€‚æ­¤æ­¥éª¤å¯¹äºåœ¨ Ubuntu ä¸‹å®ç°è®¾å¤‡çš„å®‰å…¨å¯åŠ¨ã€ç¨³å®šé€šä¿¡å’Œå®Œæ•´åŠŸèƒ½è‡³å…³é‡è¦ã€‚

**a**. ç‚¹å‡»é“¾æ¥ä¸‹è½½ [**ç‘è¨å›ºä»¶å‡çº§åŒ…ã€‚**](https://thundercomm.s3.dualstack.ap-northeast-1.amazonaws.com/uploads/web/rubik-pi-3/firmware/Flat_usb_fw.zip)  
**b**. è§£å‹å¹¶å°† [**æ­¥éª¤1**](#1ï¸âƒ£-è®¾ç½®-qdl-å·¥å…·) ä¸­çš„ QDL å¯æ‰§è¡Œæ–‡ä»¶å¤åˆ¶åˆ°ç‘è¨å›ºä»¶æ–‡ä»¶å¤¹ã€‚  
:::note 
- å¯¹äº Windows ä¸»æœºï¼Œè¯·ç¡®ä¿å°†dllæ–‡ä»¶ä¸å¯æ‰§è¡Œæ–‡ä»¶ä¸€èµ·å¤åˆ¶ã€‚
::: 
**c**. è¿›å…¥[ **EDL æ¨¡å¼**](../2.set-up-your-device.md#è¿›å…¥edlæ¨¡å¼)ã€‚  
**d**. ä½¿ç”¨ QDL å‘½ä»¤åˆ·å†™é©±åŠ¨ã€‚
<Tabs> 
<TabItem value="uhost" label="Ubuntu ä¸»æœº"> 
è¿è¡Œä»¥ä¸‹å‘½ä»¤ã€‚

```shell
qdl --storage ufs prog_firehose_ddr.elf rawprogram*.xml patch*.xml
```

</TabItem>
<TabItem value="whost" label="Windows ä¸»æœº">
è¿è¡Œä»¥ä¸‹å‘½ä»¤ã€‚
```shell
QDL.exe prog_firehose_ddr.elf rawprogram0.xml rawprogram1.xml rawprogram2.xml rawprogram3.xml rawprogram4.xml rawprogram5.xml patch1.xml patch2.xml patch3.xml patch4.xml patch5.xml  
```
</TabItem>
<TabItem value="mhost" label="macOS ä¸»æœº">
è¿è¡Œä»¥ä¸‹å‘½ä»¤ã€‚
```shell
qdl prog_firehose_ddr.elf rawprogram*.xml patch*.xml
```
</TabItem>
</Tabs>
:::note
 è‹¥æ“ä½œå¤±è´¥ï¼Œæ–­å¼€å¹¶é‡æ–°è¿æ¥ç”µæºå’Œ USB æ•°æ®çº¿ï¼Œé‡å¯é­”æ–¹æ´¾ 3 ï¼Œç„¶åå†æ¬¡æ‰§è¡Œåˆ·å†™æ“ä½œã€‚
:::
### 4ï¸âƒ£ä¸‹è½½å¹¶åˆ·å†™ Canonical Ubuntuã€‚

**a**. ä» Canonical Ubuntu ç½‘ç«™ä¸‹è½½é­”æ–¹æ´¾ 3 çš„ç³»ç»Ÿé•œåƒã€‚[**Server 24.04 image**](https://people.canonical.com/~platform/images/qualcomm-iot/rubikpi3/ubuntu-server-24.04/x00/ubuntu-24.04-preinstalled-server-arm64+rubikpi3-20250912-127.img.xz)ã€‚æ ¹æ®ä¸»æœºé…ç½®æå–ç³»ç»Ÿé•œåƒXZæ–‡ä»¶ã€‚  
**b**. ä¸‹è½½ dtb.bin æ–‡ä»¶ [**Devicetree blob**](https://people.canonical.com/~platform/images/qualcomm-iot/rubikpi3/ubuntu-server-24.04/x00/dtb.bin)  
**c**. ä¸‹è½½ rawprogram0.xml æ–‡ä»¶ [**rawprogram0.xml**](https://people.canonical.com/~platform/images/qualcomm-iot/rubikpi3/ubuntu-server-24.04/x00/rawprogram0.xml)  
**d**. ä¸‹è½½å¯åŠ¨å›ºä»¶é•œåƒã€‚[**Boot firmware**](https://thundercomm.s3.dualstack.ap-northeast-1.amazonaws.com/uploads/web/rubik-pi-3/nhlos-bins/QLI.1.4-ubuntu-rubikpi3-nhlos-bins-20250912-127.tar.gz)  
**e**. è§£å‹å¯åŠ¨å›ºä»¶é•œåƒçš„å‹ç¼©æ–‡ä»¶ï¼Œå¹¶å°†ç³»ç»Ÿé•œåƒï¼ˆæ­¥éª¤aï¼‰ã€dtb.binï¼ˆæ­¥éª¤bï¼‰å’Œrawprogram0.xmlï¼ˆæ­¥éª¤cï¼‰å¤åˆ¶åˆ°è¯¥æ–‡ä»¶å¤¹ä½ç½®ã€‚  
**f**.è§£å‹å¹¶å°† [**æ­¥éª¤1**](#1ï¸âƒ£-è®¾ç½®-qdl-å·¥å…·) è·å–çš„å¯æ‰§è¡Œæ–‡ä»¶å¤åˆ¶åˆ°å¯åŠ¨å›ºä»¶æ–‡ä»¶å¤¹ã€‚  
:::note 
- å¯¹äº Windows ä¸»æœºï¼Œè¯·ç¡®ä¿å°†dllæ–‡ä»¶ä¸å¯æ‰§è¡Œæ–‡ä»¶ä¸€èµ·å¤åˆ¶ã€‚
:::
**g**. è¿›å…¥ [ **EDL æ¨¡å¼ã€‚**](../2.set-up-your-device.md#è¿›å…¥edlæ¨¡å¼)  
**h**. æŒ‰ç…§ä»¥ä¸‹æ­¥éª¤ä½¿ç”¨ä¸»æœºç”µè„‘åˆ·å†™è®¾å¤‡ï¼š  
<Tabs>
<TabItem value="uhost" label="Ubuntu ä¸»æœº"> 
è¿è¡Œä»¥ä¸‹å‘½ä»¤ã€‚

```shell
qdl --storage ufs prog_firehose_ddr.elf rawprogram*.xml patch*.xml
```

</TabItem>
<TabItem value="whost" label="Windows ä¸»æœº">
è¿è¡Œä»¥ä¸‹å‘½ä»¤ã€‚
```shell
QDL.exe prog_firehose_ddr.elf rawprogram0.xml rawprogram1.xml rawprogram2.xml rawprogram3.xml rawprogram4.xml rawprogram5.xml rawprogram6.xml patch1.xml patch2.xml patch3.xml patch4.xml patch5.xml patch6.xml
```
</TabItem>
<TabItem value="mhost" label="macOS ä¸»æœº">
è¿è¡Œä»¥ä¸‹å‘½ä»¤ã€‚
```shell
qdl prog_firehose_ddr.elf rawprogram*.xml patch*.xml
```
</TabItem>
</Tabs>
:::tip
 å¦‚æœæ“ä½œå¤±è´¥ï¼Œæ–­å¼€å¹¶é‡æ–°è¿æ¥ç”µæºå’Œ USB æ•°æ®çº¿ï¼Œé‡å¯é­”æ–¹æ´¾ 3 ï¼Œç„¶åå†æ¬¡æ‰§è¡Œåˆ·å†™æ“ä½œã€‚
:::
:::info
 é»˜è®¤æƒ…å†µä¸‹ï¼Œåˆ·å†™å¹³å°æ„å»ºç‰ˆæœ¬æ—¶ï¼ŒCDT ä¹Ÿä¼šè¢«åˆ·å†™åˆ°æŒ‡å®šçš„åä¸º "cdt" çš„ä½ç½®ã€‚è¿™ä¸ªè¿‡ç¨‹æ˜¯åœ¨ rawprogram3.xml æ–‡ä»¶ä¸­å®šä¹‰çš„ã€‚  
:::

**i**. åˆ·å†™å®Œæˆåï¼Œè®¾å¤‡å°†è‡ªåŠ¨å¯åŠ¨ï¼Œå¹¶åœ¨è¿æ¥çš„ HDMI æ˜¾ç¤ºå™¨ä¸Šæ˜¾ç¤ºå¯åŠ¨å±å¹•ã€‚  
![](../images/Login_prompt.png)

### 5ï¸âƒ£ç™»å½•å’ŒWi-Fiè¿æ¥

**a**. åœ¨æ˜¾ç¤ºå™¨UARTæ§åˆ¶å°/SBCç»ˆç«¯ä¸Šç™»å½•å¹¶æ›´æ”¹å¯†ç ã€‚  
**b**. è®¾ç½® Wi-Fi è¿æ¥ã€‚[**Wi-Fi è®¾ç½®æŒ‡å—**](../2.set-up-your-device.md#è¿æ¥åˆ°ç½‘ç»œ)

### 6ï¸âƒ£ å®‰è£…é¢„æ„å»ºçš„è½¯ä»¶åŒ…

è¿è¡Œä»¥ä¸‹å‘½ä»¤åœ¨è®¾å¤‡ä¸Šå®‰è£…é¢„æ„å»ºçš„åŒ…ã€‚

```shell
git clone -b ubuntu_setup --single-branch https://github.com/rubikpi-ai/rubikpi-script.git
cd rubikpi-script
./install_ppa_pkgs.sh 
```

<details>
è¯¥è„šæœ¬å°†å®‰è£…ä»¥ä¸‹å†…å®¹ï¼š      
* å®‰è£… AI ç¤ºä¾‹åº”ç”¨ç¨‹åºåŒ…ã€‚  
* å®‰è£…é­”æ–¹æ´¾ 3 æ‘„åƒå¤´ã€wiringrp åŠ wiringrp_python è½¯ä»¶åŒ…ã€‚
* å®‰è£…é€šç”¨å¼€å‘å·¥å…·ç›¸å…³è½¯ä»¶åŒ…ã€‚
</details>
>  **è¯´æ˜**: å¦‚æœé‡åˆ°åŒ…å®‰è£…å¤±è´¥ï¼Œè¯·è¿è¡Œä»¥ä¸‹å‘½ä»¤ï¼š`apt --fix-broken install`

æˆåŠŸè¿è¡Œ install\_ppa\_pkgs.sh åï¼Œå¯ä»¥åœ¨æ˜¾ç¤ºå™¨ä¸Šçœ‹åˆ°ä»¥ä¸‹å±å¹•ã€‚   
![](../images/__images_hdmi_monitor_Server.png)

### 7ï¸âƒ£ éªŒè¯è½¯ä»¶ç‰ˆæœ¬

åœ¨è®¾å¤‡ shell ä¸­è¿è¡Œä»¥ä¸‹å‘½ä»¤æ¥éªŒè¯ç‰ˆæœ¬ï¼š
	```shell
	cat /etc/os-release 
	```
è¾“å‡º: 
	```json
NAME="Ubuntu"
VERSION_ID="24.04"
VERSION="24.04.2 LTS (Noble Numbat)"
VERSION_CODENAME=noble
ID=ubuntu
ID_LIKE=debian
HOME_URL="https://www.ubuntu.com/"
SUPPORT_URL="https://help.ubuntu.com/"
BUG_REPORT_URL="https://bugs.launchpad.net/ubuntu/"
PRIVACY_POLICY_URL="https://www.ubuntu.com/legal/terms-and-policies/privacy-policy"
UBUNTU_CODENAME=noble
LOGO=ubuntu-logo
```
è¿è¡Œä»¥ä¸‹å‘½ä»¤æŸ¥çœ‹Linuxç‰ˆæœ¬ï¼š
	
```shell
uname -a	
```
è¾“å‡ºï¼š
	```json
	Linux ubuntu 6.8.0-1055-qcom #55-Ubuntu SMP PREEMPT_DYNAMIC Wed Sep 17 02:03:34 UTC 2025 aarch64 aarch64 aarch64 GNU/Linux  
	```
---
> **ğŸ§­ åç»­æ­¥éª¤**
> é•œåƒåˆ·å†™åï¼Œè¯·å‚è€ƒ [**åº”ç”¨å¼€å‘ä¸æ‰§è¡ŒæŒ‡å—**](../7.Application%20Development%20and%20Execution%20Guide/index.md).
---
```